# Question 16

## Question
Which of the following statements best describes Delta Lake Auto Compaction?

## Options
- A. Auto Compaction occurs after a write to a table has succeeded to check if files can further be compacted; if yes, it runs an OPTIMIZE job with Z-Ordering toward a file size of 128 MB. 
- B. Auto Compaction occurs after a write to a table has succeeded to check if files can further be compacted; if yes, it runs an OPTIMIZE job without Z-Ordering toward a file size of 128 MB. (Correct)
- C. Auto Compaction occurs after a write to a table has succeeded to check if files can further be compacted; if yes, it runs an OPTIMIZE job without Z-Ordering toward a file size of 1 GB. 
- D. Auto Compaction occurs after a write to a table has succeeded to check if files can further be compacted; if yes, it runs an OPTIMIZE job with Z-Ordering toward a file size of 1 GB. 

## Explanation
Auto Compaction is part of the Auto Optimize feature in Databricks. it checks after an individual write, if files can further be compacted, if yes, it runs an OPTIMIZE job with 128 MB file sizes instead of the 1 GB file size used in the standard OPTIMIZE




Auto compaction does not support Z-Ordering as Z-Ordering is significantly more expensive than just compaction.




Reference:

https://docs.databricks.com/delta/tune-file-size.html#auto-compaction-for-delta-lake-on-databricks




Study materials from our exam preparation course on Udemy:

Lecture
