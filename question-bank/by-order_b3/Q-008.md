# Question #008

---

## é¡Œç›®è³‡è¨Š
### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-008`
### ä¾†æº
**ä¾†æº:** Community
### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L1-Basic`

---

## é¡Œç›®å…§å®¹
### é¡Œå¹¹
<!-- âš ï¸ ä¿æŒè‹±æ–‡åŸæ–‡ï¼Œä¸è¦ç¿»è­¯ -->
Which of the following Databricks CLI commands allows a data engineer to list all runs of a job that started at or after a specific time?

### é¸é …
<!-- âš ï¸ ä¿æŒè‹±æ–‡åŸæ–‡ï¼Œä¸è¦ç¿»è­¯ -->
- **A.** databricks jobs list-runs --job-id <job-id> --time-from <time-value>
- **B.** databricks jobs list-runs --job-id <job-id> --from <time-value>
- **C.** databricks jobs list-runs --job-id <job-id> --start-time-from <time-value>
- **D.** databricks jobs list-runs --job-id <job-id> --start <time-value>

---

## æ¨™ç±¤ç³»çµ±
### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Databricks-CLI`, `Databricks-Workflows`
### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Syntax-Confusion`, `Parameter-Order`
### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Operations

---

## ç­”æ¡ˆèˆ‡ä¾†æº
### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `C`
### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** C
- **ç¤¾ç¾¤å…±è­˜:** C

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥
**æ ¸å¿ƒæŠ€è¡“:** Databricks CLI / Jobs API
**é—œéµæ¦‚å¿µ:** list-runs å‘½ä»¤ã€æ™‚é–“ç¯©é¸åƒæ•¸
**é¡Œç›®é—œéµå­—ï¼š**
- **list all runs**: åˆ—å‡ºæ‰€æœ‰åŸ·è¡Œè¨˜éŒ„
- **started at or after**: ç‰¹å®šæ™‚é–“ä¹‹å¾Œé–‹å§‹çš„
- **--start-time-from**: æ­£ç¢ºçš„åƒæ•¸åç¨±

---

## âœ… æ­£è§£èªªæ˜
### ç‚ºä»€éº¼ C æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

**`--start-time-from`** æ˜¯ Databricks CLI ç”¨ä¾†ç¯©é¸ job runs é–‹å§‹æ™‚é–“çš„æ­£ç¢ºåƒæ•¸ã€‚

#### æ­£ç¢ºçš„å‘½ä»¤èªæ³•
```bash
databricks jobs list-runs --job-id <job-id> --start-time-from <time-value>
```

#### åƒæ•¸èªªæ˜
| åƒæ•¸ | èªªæ˜ |
|------|------|
| `--job-id` | æŒ‡å®šè¦æŸ¥è©¢çš„ Job ID |
| `--start-time-from` | ç¯©é¸é–‹å§‹æ™‚é–“ >= æ­¤å€¼çš„ runs |
| `<time-value>` | Unix æ™‚é–“æˆ³ï¼ˆæ¯«ç§’ï¼‰ |

#### ä½¿ç”¨ç¯„ä¾‹
```bash
# åˆ—å‡º Job ID 123 å¾ 2024-01-01 é–‹å§‹çš„æ‰€æœ‰åŸ·è¡Œè¨˜éŒ„
# 2024-01-01 00:00:00 UTC = 1704067200000 (æ¯«ç§’)
databricks jobs list-runs --job-id 123 --start-time-from 1704067200000

# æ­é…å…¶ä»–åƒæ•¸
databricks jobs list-runs \
  --job-id 123 \
  --start-time-from 1704067200000 \
  --start-time-to 1704153600000 \
  --limit 50
```

#### ç›¸é—œåƒæ•¸
| åƒæ•¸ | èªªæ˜ |
|------|------|
| `--start-time-from` | é–‹å§‹æ™‚é–“ä¸‹é™ï¼ˆå«ï¼‰ |
| `--start-time-to` | é–‹å§‹æ™‚é–“ä¸Šé™ï¼ˆå«ï¼‰ |
| `--limit` | è¿”å›çš„æœ€å¤§æ•¸é‡ |
| `--offset` | è·³éå‰ N ç­†çµæœ |

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### A. --time-from
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- **é€™å€‹åƒæ•¸ä¸å­˜åœ¨**
- æ­£ç¢ºçš„æ˜¯ `--start-time-from`
- å‘½åéœ€è¦æ˜ç¢ºæŒ‡å‡ºæ˜¯ã€Œé–‹å§‹æ™‚é–“ã€

### B. --from
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- **é€™å€‹åƒæ•¸ä¸å­˜åœ¨**
- å¤ªç°¡çŸ­ï¼Œèªæ„ä¸æ˜ç¢º
- Databricks CLI ä½¿ç”¨æ›´æ˜ç¢ºçš„å‘½å

### D. --start
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- **é€™å€‹åƒæ•¸ä¸å­˜åœ¨**
- ç¼ºå°‘ `-time-from` å¾Œç¶´
- ä¸å®Œæ•´çš„åƒæ•¸åç¨±

---

## ğŸ§  è¨˜æ†¶æ³•
### å£è¨£
**ã€Œstart-time-from ç¯©æ™‚é–“ï¼Œæ¯«ç§’æ™‚é–“æˆ³è¦è¨˜ç‰¢ã€**

### Databricks CLI Jobs å¸¸ç”¨å‘½ä»¤
| å‘½ä»¤ | èªªæ˜ |
|------|------|
| `jobs list` | åˆ—å‡ºæ‰€æœ‰ Jobs |
| `jobs get --job-id` | å–å¾—ç‰¹å®š Job è©³æƒ… |
| `jobs list-runs --job-id` | åˆ—å‡º Job çš„åŸ·è¡Œè¨˜éŒ„ |
| `jobs run-now --job-id` | ç«‹å³åŸ·è¡Œ Job |
| `jobs cancel-run --run-id` | å–æ¶ˆåŸ·è¡Œä¸­çš„ Run |

### list-runs å®Œæ•´åƒæ•¸
```bash
databricks jobs list-runs [OPTIONS]

å¸¸ç”¨ OPTIONS:
â”œâ”€â”€ --job-id          æŒ‡å®š Job ID
â”œâ”€â”€ --active-only     åªåˆ—å‡ºé€²è¡Œä¸­çš„
â”œâ”€â”€ --completed-only  åªåˆ—å‡ºå·²å®Œæˆçš„
â”œâ”€â”€ --start-time-from é–‹å§‹æ™‚é–“ä¸‹é™
â”œâ”€â”€ --start-time-to   é–‹å§‹æ™‚é–“ä¸Šé™
â”œâ”€â”€ --limit           è¿”å›æ•¸é‡ä¸Šé™
â””â”€â”€ --offset          åˆ†é åç§»é‡
```

### æ™‚é–“æˆ³è½‰æ›
```python
# Python è½‰æ›ç¯„ä¾‹
import datetime

# æ—¥æœŸè½‰ Unix æ¯«ç§’æ™‚é–“æˆ³
dt = datetime.datetime(2024, 1, 1, 0, 0, 0)
timestamp_ms = int(dt.timestamp() * 1000)
print(timestamp_ms)  # 1704067200000

# ä¹Ÿå¯ä»¥ç”¨ç·šä¸Šå·¥å…·è½‰æ›
# https://www.epochconverter.com/
```

### å‘½ä»¤è¨˜æ†¶æŠ€å·§
```
åƒæ•¸å‘½åè¦å‰‡ï¼š
â”œâ”€â”€ start-time-from = é–‹å§‹æ™‚é–“ + å¾ = ä¸‹é™
â”œâ”€â”€ start-time-to = é–‹å§‹æ™‚é–“ + åˆ° = ä¸Šé™
â””â”€â”€ ä½¿ç”¨ Unix æ™‚é–“æˆ³ï¼ˆæ¯«ç§’ï¼‰
```

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶
- [Databricks CLI Jobs Commands](https://docs.databricks.com/dev-tools/cli/jobs-cli.html)
- [Jobs API - List Runs](https://docs.databricks.com/api/workspace/jobs/listruns)
- [CLI Reference](https://docs.databricks.com/dev-tools/cli/index.html)

---

**[è¿”å›é¡Œç›®](#question-008)**
