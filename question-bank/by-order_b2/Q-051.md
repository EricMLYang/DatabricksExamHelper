# Question #051

---

## é¡Œç›®è³‡è¨Š
### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-051`
### ä¾†æº
**ä¾†æº:** Community
### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L2-Intermediate`

---

## é¡Œç›®å…§å®¹
### é¡Œå¹¹
<!-- âš ï¸ ä¿æŒè‹±æ–‡åŸæ–‡ï¼Œä¸è¦ç¿»è­¯ -->
Given the following multi-task job

*(é¡Œç›®é™„æœ‰ DAG åœ–é¡¯ç¤º Task 1 â†’ Task 2 â†’ Task 3 çš„ä¾è³´é—œä¿‚)*

If there is an error in the notebook 1 that is associated with Task 1, which statement describes the run result of this job?

### é¸é …
<!-- âš ï¸ ä¿æŒè‹±æ–‡åŸæ–‡ï¼Œä¸è¦ç¿»è­¯ -->
- **A.** Task 1 will completely fail. Tasks 2 and 3 will run and succeed
- **B.** Task 1 will completely fail. Tasks 2 and 3 will be skipped
- **C.** Task 1 will partially fail. Tasks 2 and 3 will be skipped
- **D.** Task 1 will partially fail. Tasks 2 and 3 will run and succeed

---

## æ¨™ç±¤ç³»çµ±
### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Databricks-Workflows`, `Spark-Core`
### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Execution-Behavior`
### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Development & Operations

---

## ç­”æ¡ˆèˆ‡ä¾†æº
### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `C`
### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** C
- **ç¤¾ç¾¤å…±è­˜:** C

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥
**æ ¸å¿ƒæŠ€è¡“:** Databricks Workflows ä»»å‹™å¤±æ•—è™•ç†
**é—œéµæ¦‚å¿µ:** éƒ¨åˆ†å¤±æ•—ã€ä¾è³´ä»»å‹™è·³é
**é¡Œç›®é—œéµå­—ï¼š**
- **error in the notebook**: Notebook ä¸­çš„éŒ¯èª¤
- **partially fail**: éƒ¨åˆ†å¤±æ•—
- **skipped**: è·³é

---

## âœ… æ­£è§£èªªæ˜
### ç‚ºä»€éº¼ C æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

Databricks Workflows çš„å¤±æ•—è¡Œç‚ºæœ‰å…©å€‹é‡è¦ç‰¹æ€§ï¼š
1. **Task å¤±æ•—æ˜¯ã€Œéƒ¨åˆ†ã€å¤±æ•—**
2. **ä¾è³´çš„ Task æœƒè¢«è·³é**

#### éƒ¨åˆ†å¤±æ•— (Partially Fail) çš„å«ç¾©
| åŸ·è¡Œéšæ®µ | çµæœ |
|---------|------|
| éŒ¯èª¤ç™¼ç”Ÿ**å‰**çš„æ“ä½œ | âœ… æˆåŠŸåŸ·è¡Œä¸¦ commit |
| éŒ¯èª¤ç™¼ç”Ÿ**å¾Œ**çš„æ“ä½œ | âŒ è¢«è·³é |

#### åŸ·è¡Œæµç¨‹åœ–è§£
```
Notebook 1 åŸ·è¡Œéç¨‹ï¼š
â”œâ”€â”€ Step 1: æˆåŠŸåŸ·è¡Œ âœ…
â”œâ”€â”€ Step 2: æˆåŠŸåŸ·è¡Œ âœ…
â”œâ”€â”€ Step 3: ç™¼ç”ŸéŒ¯èª¤ âŒ â† éŒ¯èª¤é»
â”œâ”€â”€ Step 4: è·³é
â””â”€â”€ Step 5: è·³é

çµæœï¼šTask 1ã€Œéƒ¨åˆ†ã€å¤±æ•—
      ï¼ˆStep 1, 2 çš„çµæœå·²ç¶“ commitï¼‰
```

#### ä¾è³´ Task çš„è¡Œç‚º
```
Job åŸ·è¡Œæµç¨‹ï¼š
Task 1 (partially fail)
    â†“
    Ã— ä¾è³´å¤±æ•—ï¼Œè·³éå¾ŒçºŒ Task
    â†“
Task 2 (skipped)
    â†“
Task 3 (skipped)
```

#### ç‚ºä»€éº¼ä¸æ˜¯ã€Œå®Œå…¨ã€å¤±æ•—ï¼Ÿ
```
å®Œå…¨å¤±æ•— (Completely Fail)ï¼š
â””â”€â”€ æ‰€æœ‰æ“ä½œéƒ½æœƒè¢«å›æ»¾ â† Databricks Workflows ä¸æ˜¯é€™æ¨£

éƒ¨åˆ†å¤±æ•— (Partially Fail)ï¼š
â”œâ”€â”€ éŒ¯èª¤å‰çš„æ“ä½œï¼šå·²ç¶“å®Œæˆ
â””â”€â”€ éŒ¯èª¤å¾Œçš„æ“ä½œï¼šè¢«è·³é
```

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### A. Task 1 will completely fail. Tasks 2 and 3 will run and succeed
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- ã€Œcompletely failã€ä¸æ­£ç¢º - å¤±æ•—æ˜¯éƒ¨åˆ†çš„
- ã€ŒTasks 2 and 3 will runã€ä¸æ­£ç¢º - ä¾è³´ Task æœƒè¢«è·³é

### B. Task 1 will completely fail. Tasks 2 and 3 will be skipped
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- ã€Œcompletely failã€ä¸æ­£ç¢º
- æ­£ç¢ºçš„æè¿°æ˜¯ã€Œpartially failã€
- Tasks 2 å’Œ 3 è¢«è·³éæ˜¯æ­£ç¢ºçš„

### D. Task 1 will partially fail. Tasks 2 and 3 will run and succeed
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- ã€Œpartially failã€æ˜¯æ­£ç¢ºçš„
- ä½†ã€ŒTasks 2 and 3 will runã€ä¸æ­£ç¢º
- ç•¶ Task 1 å¤±æ•—æ™‚ï¼Œä¾è³´å®ƒçš„ Task æœƒè¢«**è·³é**

---

## ğŸ§  è¨˜æ†¶æ³•
### å£è¨£
**ã€Œå¤±æ•—æ˜¯éƒ¨åˆ†ï¼Œä¾è³´è¢«è·³éã€**

### Workflows å¤±æ•—è¡Œç‚º
```
Task å¤±æ•—æ™‚ï¼š
â”œâ”€â”€ è©² Taskï¼šéƒ¨åˆ†å¤±æ•—ï¼ˆå·²åŸ·è¡Œçš„ä¿ç•™ï¼‰
â””â”€â”€ ä¾è³´ Taskï¼šå…¨éƒ¨è·³é
```

### å¤±æ•—é¡å‹å°ç…§
| è¡“èª | å«ç¾© | Databricks è¡Œç‚º |
|------|------|----------------|
| **Completely Fail** | å…¨éƒ¨å›æ»¾ | âŒ ä¸æ˜¯é€™æ¨£ |
| **Partially Fail** | éƒ¨åˆ†ä¿ç•™ | âœ… æ­£ç¢ºè¡Œç‚º |

### Job Repair åŠŸèƒ½
```
éƒ¨åˆ†å¤±æ•—å¾Œå¯ä»¥ä½¿ç”¨ Repair Runï¼š
â”œâ”€â”€ å¾å¤±æ•—é»é‡æ–°åŸ·è¡Œ
â”œâ”€â”€ ä¸éœ€è¦é‡æ–°åŸ·è¡Œå·²æˆåŠŸçš„éƒ¨åˆ†
â””â”€â”€ ç¯€çœæ™‚é–“å’Œè³‡æº
```

### ä¾è³´é—œä¿‚å½±éŸ¿
```
Task ä¾è³´é—œä¿‚ï¼š
A â†’ B â†’ C

A å¤±æ•—ï¼šB è·³éï¼ŒC è·³é
B å¤±æ•—ï¼šA å·²å®Œæˆï¼ŒC è·³é
C å¤±æ•—ï¼šA å·²å®Œæˆï¼ŒB å·²å®Œæˆ
```

### è¨˜æ†¶æŠ€å·§
- **Partial** = éƒ¨åˆ† = å·²åŸ·è¡Œçš„ä¸æœƒå›æ»¾
- **Skip** = è·³é = ä¾è³´å¤±æ•—å°±ä¸åŸ·è¡Œ
- é€™æ¨£è¨­è¨ˆæ˜¯ç‚ºäº†æ”¯æ´ **Repair Run** åŠŸèƒ½

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶
- [Repair a failed job run](https://docs.databricks.com/en/workflows/jobs/repair-job-failures.html)
- [View job run details](https://docs.databricks.com/en/workflows/jobs/run-history.html)

---

**[è¿”å›é¡Œç›®](#question-051)**
