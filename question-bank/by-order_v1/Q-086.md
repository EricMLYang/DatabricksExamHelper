# Q-086

## 題目資訊

**ID:** `Q-086`

**來源:** Mock Exam (Source labeled as #286)

**難度:** `L2-Intermediate`

---

## 題目內容

### 題幹

When evaluating the Ganglia Metrics for a given cluster with 3 executor nodes, which indicator would signal proper utilization of the VM's resources?

### 選項

- **A.** The five Minute Load Average remains consistent/flat
- **B.** Bytes Received never exceeds 80 million bytes per second
- **C.** Network I/O never spikes
- **D.** Total Disk Space remains constant
- **E.** CPU Utilization is around 75%

---

## 標籤系統

**Topics:** `Performance-Optimization`, `Cluster-Management`, `Monitoring`

**Traps:** `Metric-Misinterpretation`, `Ideal-Value-Confusion`

**Domain:** `成本與效能優化 (Cost & Performance Optimization)`

---

## 答案與分析

### 正確答案

**正解:** `E`

**社群投票:** E (100%)
**來源標註:** D

---

## 📍 考點識別

### 主要考點
**核心技術:** Ganglia Metrics 監控系統
**知識領域:** 成本與效能優化 - 叢集資源利用率監控
**關鍵概念:** 
- CPU 利用率作為資源健康指標
- Ganglia 效能指標解讀
- 叢集資源使用最佳實踐

### 次要考點
- 理解各種系統指標的含義（Load Average, Network I/O, Disk Space）
- 區分「正常使用」與「未使用」的指標特徵

---

## ✅ 正解說明

### 為什麼 E 是正確的？

**技術原理:**

CPU Utilization around 75% 是叢集資源**正常且健康使用**的理想指標：

1. **高使用率證明資源未閒置** - 75% 表示叢集正在積極處理工作負載
2. **保留緩衝空間** - 仍有 25% 餘裕應對突發需求或任務尖峰
3. **避免資源浪費** - 如果 CPU 使用率長期低於 50%，表示可能過度配置（over-provisioned）
4. **避免瓶頸** - 如果長期超過 90%，表示接近飽和，可能影響效能

**符合需求:**

題目問的是「proper utilization」（適當利用），關鍵是「正在使用」而非「閒置」：
- 75% CPU 使用率代表叢集正在執行有意義的工作
- 這是效能與穩定性的平衡點

**實務應用:**

在 Databricks 叢集監控中：
- 透過 Ganglia Metrics UI 監控 CPU 使用率
- 理想範圍：60-80% 表示資源充分利用但未過載
- 若持續低於 50%：考慮縮減叢集規模
- 若持續高於 90%：考慮擴展叢集

```
理想監控指標：
CPU Utilization: 60-80%  ✅ 正在工作且有餘裕
CPU Utilization: 10-30%  ❌ 資源浪費
CPU Utilization: 95%+    ❌ 可能成為瓶頸
```

---

## ❌ 錯誤選項排除

### 選項 A - The five Minute Load Average remains consistent/flat

**錯誤原因:** Load Average 保持平穩**不代表資源正在被使用**

**詳細分析:**
- Load Average 是系統負載的移動平均值，但「保持平穩」可能有兩種情況：
  1. 平穩地**低負載**（接近 0）→ 表示叢集幾乎沒做事
  2. 平穩地**高負載**（持續飽和）→ 可能是好事，但也可能是瓶頸
- Load Average 本身沒有標示「適當利用」，只是「穩定」而已

**易混淆點:**
「穩定」≠「正常使用」，一個完全閒置的叢集也會有「穩定的低 Load Average」

---

### 選項 B - Bytes Received never exceeds 80 million bytes per second

**錯誤原因:** 這是一個**限制性指標**，不代表資源正在被適當使用

**詳細分析:**
- 網路流量不超過 80MB/s 只是說「沒有超載」，但不代表「正在使用」
- 可能的情況：
  - 叢集完全閒置：網路流量 0 MB/s（符合條件但錯誤）
  - 叢集輕度使用：網路流量 10 MB/s（符合條件但低效）
- 80 million bytes/s 這個數字也沒有上下文意義（不同叢集大小有不同的合理範圍）

**易混淆點:**
「不超過上限」≠「適當使用」，這只是排除過載狀況

---

### 選項 C - Network I/O never spikes

**錯誤原因:** 網路 I/O 不尖峰**代表穩定**，但不代表**正在使用資源**

**詳細分析:**
- Network I/O 不出現尖峰可能表示：
  1. 流量平穩（可能是好事）
  2. 流量很低（表示叢集閒置）
- 實際上，在資料處理工作負載中，適度的 I/O 波動是正常的（例如讀取資料階段）
- 「never spikes」過於絕對，反而不符合真實工作負載特性

**易混淆點:**
「穩定無波動」不等於「健康使用」，可能只是「沒在工作」

---

### 選項 D - Total Disk Space remains constant (來源標註答案)

**錯誤原因:** Disk Space 保持不變**只是不增加儲存**，與 CPU/記憶體等運算資源利用率無關

**詳細分析:**
- Total Disk Space remains constant 只表示：
  - 沒有寫入新資料
  - 沒有產生臨時檔案堆積
- 這**不代表叢集正在執行運算任務**，例如：
  - 可以執行大量 CPU 密集的計算（純記憶體操作）而不改變磁碟空間
  - 可以完全閒置，磁碟空間也不會改變
- Disk Space 是**儲存指標**，不是**運算資源利用率指標**

**易混淆點:**
此選項容易誤選是因為「保持恆定」聽起來像是「穩定健康」，但其實只是「沒有磁碟問題」，與 VM 的 **CPU/記憶體資源利用率** 無關

**為何來源標註答案是 D？**
可能是誤解題意或答案錯誤，社群 100% 投票 E 更符合「proper utilization」的定義

---

## 🧠 記憶法與技巧

### 口訣
**「七五法則」- 叢集 CPU 75% 正好用**

### 關鍵對比表

| 指標類型 | 指標名稱 | 保持穩定/恆定的意義 | 是否代表「正常使用」？ |
|---------|---------|-------------------|---------------------|
| **運算資源** | CPU Utilization 75% | 持續處理工作且有餘裕 | ✅ 是 |
| 系統負載 | Load Average flat | 穩定，但可能是閒置 | ❌ 不確定 |
| 網路流量 | Bytes Received < 80M/s | 未過載，但可能閒置 | ❌ 不確定 |
| 網路流量 | Network I/O no spikes | 平穩，但可能沒流量 | ❌ 不確定 |
| 儲存空間 | Disk Space constant | 沒寫入資料 | ❌ 否，與運算無關 |

### 判斷技巧

**題目關鍵字：「proper utilization of VM's resources」**

✅ **正確思路:**
- 「utilization」= **使用率**，要看 CPU/記憶體等運算資源
- 「proper」= **適當**，既要有使用（非閒置），又要有餘裕（非過載）
- 75% CPU 使用率 = 黃金區間

❌ **錯誤思路:**
- 誤以為「穩定不變」就是好事（A/C/D）
- 誤以為「不超過上限」就是正常（B）
- 忽略「utilization」這個關鍵字的含義

---

## 📚 延伸閱讀

### 官方文件
- [Databricks - Monitor performance and cost](https://docs.databricks.com/clusters/clusters-manage.html#monitor-performance)
- [Ganglia Metrics UI](https://docs.databricks.com/clusters/clusters-manage.html#ganglia-metrics)

### 相關概念
- 叢集效能監控最佳實踐
- CPU 使用率與叢集調整決策
- Ganglia Metrics 各項指標解讀

---

## 🔗 相關題目
- Q-XXX: 叢集 Auto-scaling 觸發條件
- Q-XXX: 叢集配置與成本優化
