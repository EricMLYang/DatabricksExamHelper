# Question #022

---

## é¡Œç›®è³‡è¨Š
### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-022`

### ä¾†æº
**ä¾†æº:** Sample / Batch 1

### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L2-Intermediate`

---

## é¡Œç›®å…§å®¹
### é¡Œå¹¹
A data engineer uses the following SQL query:

```sql
GRANT MANAGE ON CATALOG hr_catalog TO hr_team
```

Which of the following describes the ability given by the MANAGE privilege?

### é¸é …
- **A.** It gives the ability to manage the catalog configurations including the default storage location.

- **B.** It gives the ability to control the catalog's access permissions by granting or revoking privileges.

- **C.** It gives the ability to control the catalog's query execution and performance settings.

- **D.** It gives the ability to manage the catalog's system tables and their underlying data files.

---

## æ¨™ç±¤ç³»çµ±
### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Unity-Catalog`, `UC-Permissions`

### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Concept-Confusion`

### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Security & Governance

---

## ç­”æ¡ˆèˆ‡ä¾†æº
### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `B`

### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** B
- **ç¤¾ç¾¤å…±è­˜:** B

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥

**æ ¸å¿ƒæŠ€è¡“:** Unity Catalog æ¬Šé™ç®¡ç† - MANAGE æ¬Šé™

**é—œéµæ¦‚å¿µ:**
- MANAGE æ¬Šé™çš„ç”¨é€”
- æ¬Šé™å§”æ´¾ï¼ˆPermission Delegationï¼‰
- Unity Catalog æ¬Šé™å±¤ç´š

**é¡Œç›®é—œéµå­—ï¼š**
- **GRANT MANAGE**: æˆäºˆ MANAGE æ¬Šé™
- **ON CATALOG**: ä½œç”¨æ–¼ Catalog å±¤ç´š
- **access permissions**: å­˜å–æ¬Šé™æ§åˆ¶
- **granting or revoking privileges**: æˆäºˆæˆ–æ’¤éŠ·æ¬Šé™

---

## âœ… æ­£è§£èªªæ˜

### ç‚ºä»€éº¼ B æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

**æŠ€è¡“åŸç†ï¼š**

`MANAGE` æ¬Šé™åœ¨ Unity Catalog ä¸­æ˜¯ä¸€å€‹**æ¬Šé™ç®¡ç†å§”æ´¾**çš„æ¬Šé™ã€‚æ“æœ‰ MANAGE æ¬Šé™çš„ä½¿ç”¨è€…æˆ–ç¾¤çµ„å¯ä»¥**æˆäºˆæˆ–æ’¤éŠ·**è©²ç‰©ä»¶ä¸Šçš„æ¬Šé™ï¼Œè€Œä¸éœ€è¦æ“æœ‰å®Œæ•´çš„ç®¡ç†å“¡ï¼ˆADMINï¼‰æ¬Šé™ã€‚

#### MANAGE æ¬Šé™çš„èƒ½åŠ›

| èƒ½åŠ› | èªªæ˜ |
|------|------|
| **GRANT æ¬Šé™** | å¯ä»¥æˆäºˆå…¶ä»–ä½¿ç”¨è€…åœ¨è©²ç‰©ä»¶ä¸Šçš„æ¬Šé™ |
| **REVOKE æ¬Šé™** | å¯ä»¥æ’¤éŠ·å…¶ä»–ä½¿ç”¨è€…åœ¨è©²ç‰©ä»¶ä¸Šçš„æ¬Šé™ |
| **æŸ¥çœ‹æ¬Šé™** | å¯ä»¥æŸ¥çœ‹è©²ç‰©ä»¶çš„æ¬Šé™è¨­å®š |

#### ä½¿ç”¨ç¯„ä¾‹

```sql
-- æ­¥é©Ÿ 1: Metastore Admin æˆäºˆ hr_team MANAGE æ¬Šé™
GRANT MANAGE ON CATALOG hr_catalog TO hr_team;

-- æ­¥é©Ÿ 2: hr_team æˆå“¡ç¾åœ¨å¯ä»¥ç®¡ç† hr_catalog çš„æ¬Šé™
-- ä¾‹å¦‚ï¼šhr_team çš„æˆå“¡å¯ä»¥åŸ·è¡Œ
GRANT SELECT ON CATALOG hr_catalog TO analyst_team;
GRANT CREATE SCHEMA ON CATALOG hr_catalog TO developer_team;
REVOKE SELECT ON CATALOG hr_catalog FROM contractor_team;
```

#### MANAGE vs å…¶ä»–æ¬Šé™çš„æ¯”è¼ƒ

| æ¬Šé™ | èƒ½åŠ› |
|------|------|
| **MANAGE** | ç®¡ç†æ¬Šé™ï¼ˆGRANT/REVOKEï¼‰ï¼Œä½†ä¸èƒ½å­˜å–è³‡æ–™ |
| **ALL PRIVILEGES** | æ‰€æœ‰æ¬Šé™ï¼ˆåŒ…å« SELECT, MODIFY, CREATE ç­‰ï¼‰ |
| **OWNERSHIP** | å®Œæ•´æ§åˆ¶æ¬Šï¼ˆåŒ…å« MANAGE + DROP + ALTERï¼‰ |

#### ç‚ºä»€éº¼éœ€è¦ MANAGE æ¬Šé™ï¼Ÿ

**æœ€å°æ¬Šé™åŸå‰‡**ï¼š
- ä¸éœ€è¦çµ¦åœ˜éšŠ Admin è§’è‰²
- åªæˆäºˆç®¡ç†æ¬Šé™çš„èƒ½åŠ›
- è³‡æ–™å­˜å–ä»ç„¶å—åˆ°æ§åˆ¶

```
æƒ…å¢ƒï¼šHR éƒ¨é–€éœ€è¦è‡ªè¡Œç®¡ç† HR Catalog çš„æ¬Šé™

ä¸å¥½çš„åšæ³•ï¼š
â”œâ”€â”€ æŠŠ hr_team è¨­ç‚º Metastore Admin
â””â”€â”€ é¢¨éšªï¼šhr_team å¯ä»¥å­˜å–æ‰€æœ‰ Catalog

å¥½çš„åšæ³•ï¼š
â”œâ”€â”€ GRANT MANAGE ON CATALOG hr_catalog TO hr_team
â””â”€â”€ hr_team åªèƒ½ç®¡ç† hr_catalog çš„æ¬Šé™
```

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### é¸é … A
**It gives the ability to manage the catalog configurations including the default storage location.**

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

1. **é€™æè¿°çš„æ˜¯ç®¡ç†é…ç½®ï¼Œä¸æ˜¯æ¬Šé™ç®¡ç†**ï¼š
   - ä¿®æ”¹ Catalog é…ç½®ï¼ˆå¦‚ storage locationï¼‰éœ€è¦ `ALTER` æˆ– `OWNERSHIP` æ¬Šé™
   - `MANAGE` åªæ¶‰åŠæ¬Šé™ç®¡ç†ï¼Œä¸æ¶‰åŠç‰©ä»¶é…ç½®

2. **ä¿®æ”¹ Catalog é…ç½®çš„æ­£ç¢ºæ¬Šé™**ï¼š
```sql
-- éœ€è¦ ALTER æˆ– OWNERSHIP ä¾†ä¿®æ”¹é…ç½®
ALTER CATALOG hr_catalog SET DBPROPERTIES ('comment' = 'HR Data');

-- MANAGE æ¬Šé™ç„¡æ³•åŸ·è¡Œä¸Šè¿°æ“ä½œ
```

---

### é¸é … C
**It gives the ability to control the catalog's query execution and performance settings.**

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

1. **Unity Catalog ä¸ç®¡ç†æŸ¥è©¢åŸ·è¡Œè¨­å®š**ï¼š
   - æŸ¥è©¢åŸ·è¡Œå’Œæ•ˆèƒ½è¨­å®šç”± Computeï¼ˆCluster/SQL Warehouseï¼‰ç®¡ç†
   - é€™ä¸æ˜¯ Unity Catalog æ¬Šé™çš„ç¯„ç–‡

2. **Catalog çš„è·è²¬**ï¼š
   - ç®¡ç†è³‡æ–™è³‡ç”¢ï¼ˆTables, Views, Functionsï¼‰
   - ç®¡ç†å­˜å–æ¬Šé™
   - ä¸æ¶‰åŠæŸ¥è©¢åŸ·è¡Œå±¤é¢

---

### é¸é … D
**It gives the ability to manage the catalog's system tables and their underlying data files.**

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

1. **System Tables ç”± Databricks ç®¡ç†**ï¼š
   - ç³»çµ±è¡¨ï¼ˆå¦‚ `system.billing.usage`ï¼‰æ˜¯ Databricks å…§å»ºçš„
   - ä½¿ç”¨è€…ç„¡æ³•ç®¡ç†ç³»çµ±è¡¨

2. **Data Files ç®¡ç†**ï¼š
   - è³‡æ–™æª”æ¡ˆçš„ç®¡ç†æ¶‰åŠ `MODIFY` æ¬Šé™ï¼ˆç”¨æ–¼ä¿®æ”¹è³‡æ–™ï¼‰
   - æˆ– External Location æ¬Šé™ï¼ˆç”¨æ–¼å­˜å–åº•å±¤æª”æ¡ˆï¼‰
   - `MANAGE` æ¬Šé™ä¸æ¶‰åŠè³‡æ–™æª”æ¡ˆ

---

## ğŸ§  è¨˜æ†¶æ³•

### å£è¨£
**ã€ŒMANAGE ç®¡æ¬Šé™ï¼Œä¸ç®¡è³‡æ–™å­˜å–ã€**
â†’ MANAGE æ˜¯æ¬Šé™ç®¡ç†çš„å§”æ´¾ï¼Œä¸æ˜¯è³‡æ–™å­˜å–æ¬Šé™

### Unity Catalog æ¬Šé™å±¤ç´šå°ç…§

| æ¬Šé™ | æˆäºˆ/æ’¤éŠ·æ¬Šé™ | å­˜å–è³‡æ–™ | ä¿®æ”¹ç‰©ä»¶ | åˆªé™¤ç‰©ä»¶ |
|------|-------------|---------|---------|---------|
| **MANAGE** | âœ… | âŒ | âŒ | âŒ |
| **SELECT** | âŒ | âœ…ï¼ˆè®€å–ï¼‰ | âŒ | âŒ |
| **MODIFY** | âŒ | âœ…ï¼ˆè®€å¯«ï¼‰ | âŒ | âŒ |
| **ALL PRIVILEGES** | âœ… | âœ… | âœ… | âŒ |
| **OWNERSHIP** | âœ… | âœ… | âœ… | âœ… |

### å¸¸è¦‹æ¬Šé™å§”æ´¾å ´æ™¯

```sql
-- å ´æ™¯ 1: éƒ¨é–€è‡ªä¸»ç®¡ç†æ¬Šé™
GRANT MANAGE ON CATALOG sales_catalog TO sales_admin_team;

-- å ´æ™¯ 2: Schema å±¤ç´šçš„æ¬Šé™ç®¡ç†
GRANT MANAGE ON SCHEMA hr_catalog.employees TO hr_admin;

-- å ´æ™¯ 3: é™å®šç¯„åœçš„æ¬Šé™å§”æ´¾
GRANT MANAGE ON TABLE hr_catalog.employees.salary TO payroll_team;
```

### MANAGE æ¬Šé™çš„å¯¦å‹™æ‡‰ç”¨

| å ´æ™¯ | å»ºè­° |
|------|------|
| éƒ¨é–€ç¨ç«‹ç®¡ç† | æˆäºˆéƒ¨é–€ Admin è©² Catalog çš„ MANAGE |
| å°ˆæ¡ˆåœ˜éšŠè‡ªä¸» | æˆäºˆå°ˆæ¡ˆ Lead è©² Schema çš„ MANAGE |
| æ•æ„Ÿè³‡æ–™æ§ç®¡ | å–®ç¨æˆäºˆè³‡æ–™ Owner è©² Table çš„ MANAGE |

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶

- [Unity Catalog Privileges](https://docs.databricks.com/en/data-governance/unity-catalog/manage-privileges/privileges.html)
- [MANAGE Privilege](https://docs.databricks.com/en/data-governance/unity-catalog/manage-privileges/privileges.html#manage)
- [GRANT Statement](https://docs.databricks.com/en/sql/language-manual/security-grant.html)

---

**[è¿”å›é¡Œç›®](#question-022)**
