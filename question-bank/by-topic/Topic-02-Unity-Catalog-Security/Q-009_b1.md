# Question #009

---

## é¡Œç›®è³‡è¨Š

### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-009`

### ä¾†æº
**ä¾†æº:** Sample / Community

### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L2-Intermediate`

---

## é¡Œç›®å…§å®¹

### é¡Œå¹¹

A data engineer claims that if they grant `SELECT` on the `HR` catalog to a reporting team, the team will automatically have `SELECT` access to any new tables or views added to the catalog next month. The engineer argues that this approach will save time because they won't have to grant access for each new table or view individually.

What is the accuracy of this claim?

### é¸é …

- **A.** True, because grants at the catalog level apply to current and future objects in the catalog.
- **B.** True, but only for tables, not views.
- **C.** True, but only for views, not tables.
- **D.** False, new tables and views must be granted `SELECT` privileges separately.

---

## æ¨™ç±¤ç³»çµ±

### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Unity-Catalog`, `UC-Permissions`, `Security`

### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Scope-Misunderstanding`, `Concept-Confusion`

### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Governance

---

## ç­”æ¡ˆèˆ‡ä¾†æº

### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `A`

### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** A
- **ç¤¾ç¾¤å…±è­˜:** A

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥

**æ ¸å¿ƒæŠ€è¡“:** Unity Catalog Privilege Inheritance (æ¬Šé™ç¹¼æ‰¿)  
**é—œéµæ¦‚å¿µ:** Catalog/Schema å±¤ç´šæˆæ¬Šå¯å¥—ç”¨åˆ°ã€Œç›®å‰ + æœªä¾†ã€çš„å­ç‰©ä»¶ (tables/views)

**é¡Œç›®é—œéµå­—ï¼š**
- **grant SELECT on the HR catalog**ï¼šåœ¨ catalog å±¤ç´šæˆæ¬Šã€‚
- **any new tables or views next month**ï¼šè€ƒã€Œæœªä¾†ç‰©ä»¶ã€æ˜¯å¦è‡ªå‹•ç¹¼æ‰¿ã€‚
- **save time**ï¼šæš—ç¤ºæ­£ç¢ºåšæ³•æ‡‰é¿å…é€è¡¨é€æª¢è¦–æˆæ¬Šã€‚

---

## âœ… æ­£è§£èªªæ˜

### ç‚ºä»€éº¼ A æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

**æŠ€è¡“åŸç†ï¼š**

Unity Catalog çš„ securable objects æ˜¯éšå±¤å¼çš„ï¼ˆmetastore â†’ catalog â†’ schema â†’ table/viewï¼‰ã€‚åœ¨ Privilege Model v1.0 ä¸‹ï¼Œéƒ¨åˆ† privilegesï¼ˆåŒ…å« `SELECT`ï¼‰æ”¯æ´ **inheritance**ï¼š

- ä½ å¯ä»¥åœ¨ **catalog** æˆ– **schema** å±¤ç´šæˆæ¬Š `SELECT`
- è©²æˆæ¬Šæœƒå¥—ç”¨åˆ°è©²å±¤ç´šåº•ä¸‹ **æ‰€æœ‰ç›®å‰å­˜åœ¨**ã€ä»¥åŠ **æœªä¾†æ–°å¢** çš„ tables / views

å› æ­¤å·¥ç¨‹å¸«çš„èªªæ³•ã€Œä¸ç”¨é€ä¸€å°æ¯å€‹æ–°è¡¨/æ–° view æˆæ¬Šã€æ˜¯æ­£ç¢ºçš„ã€‚

**å¸¸è¦‹çš„å®Œæ•´æˆæ¬Šçµ„åˆï¼ˆå¯¦å‹™æ›´æ¥è¿‘é€™æ¨£åšï¼‰ï¼š**

```sql
-- 1) è®“ä½¿ç”¨è€…èƒ½ä½¿ç”¨ catalog
GRANT USE CATALOG ON CATALOG hr TO `reporting_team`;

-- 2) è®“ä½¿ç”¨è€…èƒ½ä½¿ç”¨ catalog åº•ä¸‹çš„ schemasï¼ˆå¯åœ¨ catalog å±¤ç´šæˆæ¬Šï¼Œæœƒç¹¼æ‰¿åˆ°ç›®å‰/æœªä¾† schemasï¼‰
GRANT USE SCHEMA ON CATALOG hr TO `reporting_team`;

-- 3) åœ¨ catalog å±¤ç´šæˆæ¬Š SELECTï¼ˆæœƒç¹¼æ‰¿åˆ°ç›®å‰/æœªä¾† tables & viewsï¼‰
GRANT SELECT ON CATALOG hr TO `reporting_team`;
```

**è£œå……ï¼ˆè€ƒè©¦å¸¸è€ƒçš„ nuanceï¼‰ï¼š**
å°±ç®—æœ‰ `SELECT`ï¼Œè¦çœŸçš„èƒ½æŸ¥è³‡æ–™ï¼Œé€šå¸¸é‚„éœ€è¦ `USE CATALOG` èˆ‡ `USE SCHEMA`ï¼ˆå¦å‰‡ç„¡æ³•è§£æä¸‰å±¤å‘½åç©ºé–“ï¼‰ã€‚ä½†é¡Œç›®å•çš„é‡é»æ˜¯ã€Œæ˜¯å¦èƒ½è‡ªå‹•æ¶µè“‹æœªä¾†æ–°ç‰©ä»¶ã€ï¼Œç­”æ¡ˆä»ç„¶æ˜¯ Trueã€‚

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### B / C - åªå¥—ç”¨ tables æˆ–åªå¥—ç”¨ views

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

Unity Catalog çš„ `SELECT` åœ¨ inheritance çš„èªæ„ä¸Šï¼Œæœƒæ¶µè“‹ **tables èˆ‡ views**ï¼ˆé¡Œå¹¹ä¹ŸåŒæ™‚æåˆ° tables / viewsï¼‰ã€‚æ‰€ä»¥ä¸æœƒå‡ºç¾ã€Œåªå¥—ç”¨å…¶ä¸­ä¸€ç¨®ã€çš„é™åˆ¶ã€‚

### D - æ–° tables/views å¿…é ˆåˆ†åˆ¥æˆæ¬Š

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

é€™æ˜¯å…¸å‹çš„ã€Œèª¤ä»¥ç‚ºåªèƒ½é€ç‰©ä»¶æˆæ¬Šã€çš„é™·é˜±ã€‚Unity Catalog æ”¯æ´åœ¨ catalog/schema å±¤ç´šæˆæ¬Šï¼Œä¸¦å°‡è©²æˆæ¬Šå¥—ç”¨åˆ°ç›®å‰èˆ‡æœªä¾†å­ç‰©ä»¶ï¼Œæ­£æ˜¯ç‚ºäº†é™ä½æ²»ç†æˆæœ¬ã€‚

---

## ğŸ§  è¨˜æ†¶æ³•

### å£è¨£

**ã€ŒUC æ¬Šé™å¾€ä¸‹å‚³ï¼šcatalog ä¸€çµ¦ï¼Œæ–°å¢ä¹Ÿå…¨çµ¦ã€**

- åœ¨ catalog/schema çµ¦ `SELECT` â†’ tables/views æœƒè‡ªå‹•ç¹¼æ‰¿ï¼ˆåŒ…å«æœªä¾†æ–°å¢ï¼‰ã€‚
- ä½†è¦æŸ¥å¾—åˆ°ï¼Œé€šå¸¸é‚„è¦è£œ `USE CATALOG` + `USE SCHEMA`ã€‚

### å¿«é€Ÿåˆ¤æ–·

çœ‹åˆ°é¡Œç›®æåˆ°ï¼š
- ã€ŒGrant at catalog/schemaã€+ ã€Œfuture objectsã€

é€šå¸¸å°±æ˜¯åœ¨è€ƒï¼š**Privilege inheritance**ã€‚

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶

- [Unity Catalog privileges and securable objectsï¼ˆSELECT å¯åœ¨ catalog/schema æˆæ¬Šä¸¦ç¹¼æ‰¿åˆ°ç›®å‰èˆ‡æœªä¾† tables/viewsï¼‰](https://docs.databricks.com/en/data-governance/unity-catalog/manage-privileges/privileges.html#select)

---

**[è¿”å›é¡Œç›®](#question-009)**
