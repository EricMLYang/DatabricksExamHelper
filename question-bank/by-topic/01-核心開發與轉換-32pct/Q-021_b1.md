# Question #021

---

## é¡Œç›®è³‡è¨Š
### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-021`

### ä¾†æº
**ä¾†æº:** Sample / Batch 1

### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L1-Basic`

---

## é¡Œç›®å…§å®¹
### é¡Œå¹¹
Which of the following statements correctly describes the sys.path Python variable?

### é¸é …
- **A.** The sys.path variable contains a list of directories where the Python interpreter searches for modules.

- **B.** The sys.path variable contains a list of all the parameters passed to a Python notebook.

- **C.** The sys.path variable contains the full pathname of the current working directory of a Python notebook.

- **D.** The sys.path variable contains a list of all the necessary dependencies for a Python notebook.

---

## æ¨™ç±¤ç³»çµ±
### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `PySpark`

### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Concept-Confusion`

### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Python Development

---

## ç­”æ¡ˆèˆ‡ä¾†æº
### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `A`

### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** A
- **ç¤¾ç¾¤å…±è­˜:** A

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥

**æ ¸å¿ƒæŠ€è¡“:** Python sys æ¨¡çµ„ - æ¨¡çµ„æœå°‹è·¯å¾‘

**é—œéµæ¦‚å¿µ:**
- `sys.path` çš„ç”¨é€”èˆ‡çµæ§‹
- Python æ¨¡çµ„å°å…¥æ©Ÿåˆ¶
- åœ¨ Databricks ä¸­è‡ªè¨‚æ¨¡çµ„è·¯å¾‘

**é¡Œç›®é—œéµå­—ï¼š**
- **sys.path**: Python å…§å»ºçš„æ¨¡çµ„æœå°‹è·¯å¾‘åˆ—è¡¨
- **directories**: ç›®éŒ„åˆ—è¡¨
- **searches for modules**: æœå°‹æ¨¡çµ„

---

## âœ… æ­£è§£èªªæ˜

### ç‚ºä»€éº¼ A æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

**æŠ€è¡“åŸç†ï¼š**

`sys.path` æ˜¯ä¸€å€‹ Python åˆ—è¡¨ï¼ˆlistï¼‰ï¼ŒåŒ…å«äº† Python ç›´è­¯å™¨åœ¨åŸ·è¡Œ `import` èªå¥æ™‚æœƒæœå°‹æ¨¡çµ„çš„**ç›®éŒ„è·¯å¾‘**ã€‚

#### sys.path çš„çµæ§‹

```python
import sys
print(sys.path)

# è¼¸å‡ºç¯„ä¾‹ï¼š
# [
#     '',                                    # ç•¶å‰ç›®éŒ„
#     '/databricks/python/lib/python3.9',
#     '/databricks/python/lib/python3.9/site-packages',
#     '/usr/lib/python39.zip',
#     '/usr/lib/python3.9',
#     ...
# ]
```

#### sys.path çš„æœå°‹é †åº

```
åŸ·è¡Œ import my_module æ™‚ï¼š

1. å…ˆæœå°‹å…§å»ºæ¨¡çµ„
2. ä¾åºæœå°‹ sys.path ä¸­çš„ç›®éŒ„ï¼š
   â”œâ”€â”€ '' (ç•¶å‰ç›®éŒ„)
   â”œâ”€â”€ /databricks/python/lib/python3.9
   â”œâ”€â”€ /databricks/python/lib/python3.9/site-packages
   â””â”€â”€ ...
3. æ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„ my_module.py å°±åœæ­¢
4. å¦‚æœéƒ½æ‰¾ä¸åˆ° â†’ ImportError
```

#### åœ¨ Databricks ä¸­ä½¿ç”¨è‡ªè¨‚æ¨¡çµ„

```python
# æ–¹æ³• 1: ä½¿ç”¨ sys.path.append() æ–°å¢ç›®éŒ„
import sys
sys.path.append("/Workspace/Users/me/my_modules")

# ç¾åœ¨å¯ä»¥å°å…¥è©²ç›®éŒ„ä¸‹çš„æ¨¡çµ„
from my_custom_module import my_function

# æ–¹æ³• 2: ä½¿ç”¨ sys.path.insert() å„ªå…ˆæœå°‹
import sys
sys.path.insert(0, "/Workspace/Shared/common_modules")

# é€™å€‹ç›®éŒ„æœƒè¢«å„ªå…ˆæœå°‹
```

#### å¸¸è¦‹ä½¿ç”¨å ´æ™¯

1. **å°å…¥ Workspace ä¸­çš„å…±ç”¨æ¨¡çµ„**
2. **å°å…¥ Repos ä¸­çš„ Python æª”æ¡ˆ**
3. **æ¸¬è©¦æœ¬åœ°é–‹ç™¼çš„å¥—ä»¶**

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### é¸é … B
**The sys.path variable contains a list of all the parameters passed to a Python notebook.**

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

1. **é€™æè¿°çš„æ˜¯ sys.argv**ï¼š
```python
import sys

# sys.argv åŒ…å«å‘½ä»¤åˆ—åƒæ•¸
print(sys.argv)
# ['notebook.py', 'arg1', 'arg2']

# sys.path åŒ…å«æ¨¡çµ„æœå°‹è·¯å¾‘
print(sys.path)
# ['/path/to/modules', ...]
```

2. **åœ¨ Notebook ä¸­**ï¼š
   - Databricks Notebooks ä½¿ç”¨ `dbutils.widgets` å‚³éåƒæ•¸
   - ä¸æ˜¯é€é `sys.argv`

---

### é¸é … C
**The sys.path variable contains the full pathname of the current working directory of a Python notebook.**

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

1. **é€™æè¿°çš„æ˜¯ os.getcwd()**ï¼š
```python
import os
import sys

# os.getcwd() è¿”å›ç•¶å‰å·¥ä½œç›®éŒ„ï¼ˆå–®ä¸€å­—ä¸²ï¼‰
print(os.getcwd())
# '/databricks/driver'

# sys.path æ˜¯ç›®éŒ„åˆ—è¡¨ï¼ˆlistï¼‰
print(sys.path)
# ['', '/path1', '/path2', ...]
```

2. **é—œéµå·®ç•°**ï¼š
   - `os.getcwd()` â†’ å–®ä¸€å­—ä¸²ï¼ˆç•¶å‰ç›®éŒ„ï¼‰
   - `sys.path` â†’ åˆ—è¡¨ï¼ˆå¤šå€‹æœå°‹ç›®éŒ„ï¼‰

---

### é¸é … D
**The sys.path variable contains a list of all the necessary dependencies for a Python notebook.**

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

1. **æ··æ·†äº†æœå°‹è·¯å¾‘èˆ‡ä¾è³´åˆ—è¡¨**ï¼š
   - `sys.path` æ˜¯ã€Œå»å“ªè£¡æ‰¾æ¨¡çµ„ã€
   - ä¸æ˜¯ã€Œéœ€è¦å“ªäº›æ¨¡çµ„ã€

2. **æŸ¥çœ‹å·²å®‰è£å¥—ä»¶çš„æ–¹å¼**ï¼š
```python
# æŸ¥çœ‹å·²å®‰è£çš„å¥—ä»¶
import pkg_resources
installed = [pkg.key for pkg in pkg_resources.working_set]
print(installed)

# æˆ–ä½¿ç”¨ pip
!pip list
```

3. **ä¾è³´ç®¡ç†å·¥å…·**ï¼š
   - `requirements.txt`
   - `setup.py`
   - `pyproject.toml`
   - é€™äº›æ‰æ˜¯ã€Œä¾è³´åˆ—è¡¨ã€

---

## ğŸ§  è¨˜æ†¶æ³•

### å£è¨£
**ã€Œsys.path æ‰¾æ¨¡çµ„ï¼Œsys.argv çœ‹åƒæ•¸ã€**
â†’ sys.path æ˜¯æ¨¡çµ„æœå°‹è·¯å¾‘ï¼Œsys.argv æ˜¯å‘½ä»¤åˆ—åƒæ•¸

### sys æ¨¡çµ„å¸¸ç”¨è®Šæ•¸å°ç…§

| è®Šæ•¸ | ç”¨é€” | é¡å‹ | ç¯„ä¾‹ |
|------|------|------|------|
| `sys.path` | æ¨¡çµ„æœå°‹è·¯å¾‘ | list | `['/path1', '/path2']` |
| `sys.argv` | å‘½ä»¤åˆ—åƒæ•¸ | list | `['script.py', 'arg1']` |
| `sys.version` | Python ç‰ˆæœ¬ | str | `'3.9.5'` |
| `sys.platform` | ä½œæ¥­ç³»çµ±å¹³å° | str | `'linux'` |

### Databricks æ¨¡çµ„å°å…¥æŠ€å·§

```python
# æŠ€å·§ 1: å°å…¥ Workspace æª”æ¡ˆ
import sys
sys.path.append("/Workspace/Users/user@company.com/lib")

# æŠ€å·§ 2: å°å…¥ Repos æª”æ¡ˆ
sys.path.append("/Workspace/Repos/user@company.com/my-repo/src")

# æŠ€å·§ 3: ä½¿ç”¨ç›¸å°è·¯å¾‘
import os
current_dir = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.join(current_dir, 'lib'))
```

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶

- [Python sys.path Documentation](https://docs.python.org/3/library/sys.html#sys.path)
- [Databricks - Import Python Modules](https://docs.databricks.com/files/workspace-modules.html#import-python-and-r-modules-1)
- [Databricks - Modularize Code](https://docs.databricks.com/en/notebooks/share-code.html)

---

**[è¿”å›é¡Œç›®](#question-021)**
