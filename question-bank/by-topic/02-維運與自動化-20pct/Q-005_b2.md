# Question #005

---

## é¡Œç›®è³‡è¨Š

### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-005`

### ä¾†æº
**ä¾†æº:** Community

### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L1-Basic`

---

## é¡Œç›®å…§å®¹

### é¡Œå¹¹

A scheduled job failed due to an upstream data source issue. After resolving the issue, the data engineer wants to use the Jobs API to trigger the same job again without waiting for its next scheduled run.

Which of the following REST API calls achieves this requirement?

### é¸é …

- **A.** Send GET request to the endpoint '/api/2.2/jobs/run'
- **B.** Send POST request to the endpoint '/api/2.2/jobs/run-now'
- **C.** Send POST request to the endpoint '/api/2.2/jobs/start'
- **D.** Send POST request to the endpoint '/api/2.2/jobs/run'

---

## æ¨™ç±¤ç³»çµ±

### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Databricks-Workflows`, `Databricks-CLI`

### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Syntax-Confusion`, `Similar-Function`

### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Operations

---

## ç­”æ¡ˆèˆ‡ä¾†æº

### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `B`

### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** B
- **ç¤¾ç¾¤å…±è­˜:** B

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥

**æ ¸å¿ƒæŠ€è¡“:** Databricks Jobs API / REST API
**é—œéµæ¦‚å¿µ:** run-now endpoint, POST vs GET, API ç«¯é»å‘½å

**é¡Œç›®é—œéµå­—ï¼š**
- **Jobs API**: ä½¿ç”¨ Databricks REST API æ“ä½œ Jobsã€‚
- **trigger the same job**: ç«‹å³è§¸ç™¼å·²å­˜åœ¨çš„ Jobã€‚
- **without waiting for its next scheduled run**: ä¸ç­‰å¾…æ’ç¨‹æ™‚é–“ï¼Œç«‹å³åŸ·è¡Œã€‚

---

## âœ… æ­£è§£èªªæ˜

### ç‚ºä»€éº¼ B æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

**æŠ€è¡“åŸç†ï¼š**

1. **`/api/2.2/jobs/run-now` ç«¯é»**:
   é€™æ˜¯ç”¨ä¾†ç«‹å³è§¸ç™¼ä¸€å€‹å·²å­˜åœ¨ Job çš„å®˜æ–¹ API ç«¯é»ã€‚å®ƒæ¥å— `job_id` ä½œç‚ºåƒæ•¸ï¼Œä¸¦ç«‹å³å•Ÿå‹•è©² Job çš„æ–°åŸ·è¡Œã€‚

2. **å¿…é ˆä½¿ç”¨ POST æ–¹æ³•**:
   å› ç‚ºé€™å€‹æ“ä½œæœƒæ”¹è®Šç³»çµ±ç‹€æ…‹ï¼ˆè§¸ç™¼ä¸€å€‹æ–°çš„ Job Runï¼‰ï¼Œæ‰€ä»¥å¿…é ˆä½¿ç”¨ POST è€Œä¸æ˜¯ GETã€‚

**API å‘¼å«ç¯„ä¾‹ï¼š**

```bash
curl -X POST \
  https://<databricks-instance>/api/2.2/jobs/run-now \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"job_id": 12345}'
```

**å›æ‡‰ç¯„ä¾‹ï¼š**

```json
{
  "run_id": 67890,
  "number_in_job": 5
}
```

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### A - GET request to '/api/2.2/jobs/run'

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

- **HTTP æ–¹æ³•éŒ¯èª¤**: è§¸ç™¼ Job åŸ·è¡Œæœƒæ”¹è®Šç³»çµ±ç‹€æ…‹ï¼Œæ‡‰ä½¿ç”¨ POSTï¼Œä¸æ˜¯ GETã€‚
- **GET ç”¨é€”**: GET è«‹æ±‚é€šå¸¸ç”¨æ–¼è®€å–è³‡æ–™ï¼Œä¸æ‡‰æœ‰å‰¯ä½œç”¨ã€‚
- **ç«¯é»éŒ¯èª¤**: æ­£ç¢ºç«¯é»æ˜¯ `run-now`ï¼Œä¸æ˜¯ `run`ã€‚

### C - POST request to '/api/2.2/jobs/start'

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

- **ç«¯é»ä¸å­˜åœ¨**: Databricks Jobs API ä¸­æ²’æœ‰ `/api/2.2/jobs/start` é€™å€‹ç«¯é»ã€‚
- **å‘½åæ…£ä¾‹**: Databricks ä½¿ç”¨ `run-now` ä¾†è¡¨ç¤ºç«‹å³åŸ·è¡Œã€‚

### D - POST request to '/api/2.2/jobs/run'

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

- **ç«¯é»åç¨±éŒ¯èª¤**: æ­£ç¢ºçš„ç«¯é»æ˜¯ `run-now`ï¼Œä¸æ˜¯ `run`ã€‚
- **`runs` vs `run-now`**:
  - `GET /jobs/runs/get` - ç²å–ç‰¹å®š run çš„è³‡è¨Š
  - `GET /jobs/runs/list` - åˆ—å‡º Job çš„æ‰€æœ‰ runs
  - `POST /jobs/run-now` - ç«‹å³è§¸ç™¼ Job

---

## ğŸ§  è¨˜æ†¶æ³•

### å£è¨£

**ã€Œç«‹å³åŸ·è¡Œ run-nowï¼Œç”¨ POST ä¸ç”¨ GETã€**

### Jobs API ç«¯é»é€ŸæŸ¥

| æ“ä½œ | HTTP æ–¹æ³• | ç«¯é» |
|------|-----------|------|
| å»ºç«‹ Job | POST | `/api/2.2/jobs/create` |
| ç«‹å³åŸ·è¡Œ Job | **POST** | **`/api/2.2/jobs/run-now`** |
| ä¸€æ¬¡æ€§åŸ·è¡Œï¼ˆç„¡éœ€å»ºç«‹ Jobï¼‰ | POST | `/api/2.2/jobs/runs/submit` |
| åˆ—å‡º Jobs | GET | `/api/2.2/jobs/list` |
| å–å¾— Job è©³æƒ… | GET | `/api/2.2/jobs/get` |
| åˆªé™¤ Job | POST | `/api/2.2/jobs/delete` |
| å–æ¶ˆåŸ·è¡Œä¸­çš„ Run | POST | `/api/2.2/jobs/runs/cancel` |

### HTTP æ–¹æ³•é¸æ“‡åŸå‰‡

| æ“ä½œé¡å‹ | HTTP æ–¹æ³• |
|----------|-----------|
| è®€å–è³‡æ–™ï¼ˆç„¡å‰¯ä½œç”¨ï¼‰ | GET |
| å»ºç«‹/è§¸ç™¼ï¼ˆæœ‰å‰¯ä½œç”¨ï¼‰ | POST |
| æ›´æ–° | PUT / PATCH |
| åˆªé™¤ | DELETEï¼ˆä½† Databricks å¸¸ç”¨ POSTï¼‰ |

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶

- [Jobs API - Run Now](https://docs.databricks.com/api/workspace/jobs/runnow)
- [Jobs API Reference](https://docs.databricks.com/api/workspace/jobs)
- [Databricks REST API](https://docs.databricks.com/api/)

---

**[è¿”å›é¡Œç›®](#question-005)**
