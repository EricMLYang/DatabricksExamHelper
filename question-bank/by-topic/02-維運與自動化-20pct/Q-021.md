# Question #21

---

## 題目資訊

### 題目編號
**ID:** `Q-01-021`

### 來源
**來源:** Real Exam Recall

### 難度等級
**難度:** `L3-Advanced`

---

## 題目內容

### 題幹

A Structured Streaming job deployed to production has been experiencing delays during peak hours of the day.

At present, during normal execution, each microbatch of data is processed in less than 3 seconds.

During peak hours of the day, execution time for each microbatch becomes very inconsistent, sometimes exceeding 30 seconds.

The streaming write is currently configured with a trigger interval of 10 seconds.

Holding all other variables constant and assuming records need to be processed in less than 10 seconds, which adjustment will meet the requirement?

### 選項

- **A.** Decrease the trigger interval to 5 seconds; triggering batches more frequently allows idle executors to begin processing the next batch while longer running tasks from previous batches finish.
- **B.** Increase the trigger interval to 30 seconds; setting the trigger interval near the maximum execution time observed for each batch is always best practice to ensure no records are dropped.
- **C.** The trigger interval cannot be modified without modifying the checkpoint directory; to maintain the current stream state, increase the number of shuffle partitions to maximize parallelism.
- **D.** Use the trigger once option and configure a Databricks job to execute the query every 10 seconds, this ensures all backlogged records are processed with each batch.
- **E.** Decrease the trigger interval to 5 seconds; triggering batches more frequently may prevent records from backing up and large batches from causing spill.

---

## 標籤系統

### Topic Tags (技術主題標籤)
**Topics:** `Structured-Streaming`, `Trigger-Interval`, `Performance-Tuning`, `Microbatch`

### Trap Tags (陷阱類型標籤)
**Traps:** `Trigger-Logic`, `Performance-Reasoning`

### Knowledge Domain (知識領域)
**Domain:** `Structured Streaming`

---

## 答案與解析連結

### 正確答案
**正解:** `D`

### 解析檔案
**詳細解析:** [點此查看解析](../analysis/Q-01-021-analysis.md)

**備註:** Community discussions suggest E may be better for performance gain, but D is marked as correct in official materials.

---

## 相關資源

### 官方文件
- [Structured Streaming Triggers](https://docs.databricks.com/structured-streaming/triggers.html)
- [Performance Tuning](https://docs.databricks.com/structured-streaming/production.html)
