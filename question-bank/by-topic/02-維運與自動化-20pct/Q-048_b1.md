# Question #048

---

## é¡Œç›®è³‡è¨Š
### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-048`
### ä¾†æº
**ä¾†æº:** Community
### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L1-Basic`

---

## é¡Œç›®å…§å®¹
### é¡Œå¹¹
<!-- âš ï¸ ä¿æŒè‹±æ–‡åŸæ–‡ï¼Œä¸è¦ç¿»è­¯ -->
A data engineer wants to use Databricks REST API to retrieve all runs of a job in order to check their statuses.

Which of the following REST API calls achieves this requirement?

### é¸é …
<!-- âš ï¸ ä¿æŒè‹±æ–‡åŸæ–‡ï¼Œä¸è¦ç¿»è­¯ -->
- **A.** Send POST request to the endpoint '/api/2.2/jobs/runs/list'
- **B.** Send GET request to the endpoint 'api/2.2/jobs/runs/get'
- **C.** Send POST request to the endpoint 'api/2.2/jobs/runs/get'
- **D.** Send GET request to the endpoint '/api/2.2/jobs/runs/list'

---

## æ¨™ç±¤ç³»çµ±
### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Databricks-Workflows`, `Databricks-CLI`
### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Syntax-Confusion`
### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Development & Operations

---

## ç­”æ¡ˆèˆ‡ä¾†æº
### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `D`
### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** D
- **ç¤¾ç¾¤å…±è­˜:** D

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥
**æ ¸å¿ƒæŠ€è¡“:** Databricks REST API
**é—œéµæ¦‚å¿µ:** HTTP æ–¹æ³•ã€API ç«¯é»å‘½åæ…£ä¾‹
**é¡Œç›®é—œéµå­—ï¼š**
- **REST API**: Databricks æä¾›çš„ç¨‹å¼åŒ–å­˜å–ä»‹é¢
- **GET**: HTTP æ–¹æ³•ï¼Œç”¨æ–¼è®€å–è³‡æ–™
- **runs/list**: åˆ—å‡ºå¤šå€‹ job runs çš„ç«¯é»

---

## âœ… æ­£è§£èªªæ˜
### ç‚ºä»€éº¼ D æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

è¦å–å¾—æ‰€æœ‰ job runsï¼Œéœ€è¦ä½¿ç”¨ï¼š
- **HTTP æ–¹æ³•**: `GET`ï¼ˆè®€å–è³‡æ–™ï¼‰
- **ç«¯é»**: `/api/2.2/jobs/runs/list`ï¼ˆåˆ—å‡ºå¤šå€‹ runsï¼‰

#### API å‘¼å«ç¯„ä¾‹
```bash
# ä½¿ç”¨ curl å‘¼å« API
curl -X GET \
  "https://<workspace-url>/api/2.2/jobs/runs/list?job_id=12345" \
  -H "Authorization: Bearer <token>"

# å›æ‡‰ç¯„ä¾‹
{
  "runs": [
    {
      "run_id": 1,
      "run_name": "my-job-run",
      "state": {
        "life_cycle_state": "TERMINATED",
        "result_state": "SUCCESS"
      },
      "start_time": 1609459200000,
      "end_time": 1609459500000
    },
    ...
  ],
  "has_more": false
}
```

#### RESTful API è¨­è¨ˆåŸå‰‡
| HTTP æ–¹æ³• | ç”¨é€” | ç¯„ä¾‹ |
|----------|------|------|
| `GET` | è®€å–è³‡æ–™ | å–å¾— runs åˆ—è¡¨ |
| `POST` | å‰µå»ºè³‡æº | å•Ÿå‹•æ–°çš„ run |
| `PUT/PATCH` | æ›´æ–°è³‡æº | ä¿®æ”¹è¨­å®š |
| `DELETE` | åˆªé™¤è³‡æº | å–æ¶ˆ run |

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### A. Send POST request to '/api/2.2/jobs/runs/list'
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- `POST` ç”¨æ–¼å‰µå»ºè³‡æºï¼Œä¸æ˜¯è®€å–
- é›–ç„¶ç«¯é»æ­£ç¢ºï¼Œä½† HTTP æ–¹æ³•éŒ¯èª¤
- ç¬¦åˆ RESTful åŸå‰‡ï¼Œè®€å–æ‡‰ç”¨ `GET`

### B. Send GET request to 'api/2.2/jobs/runs/get'
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- `runs/get` ç”¨æ–¼å–å¾—**å–®ä¸€** run çš„è©³ç´°è³‡è¨Š
- é¡Œç›®è¦æ±‚å–å¾—ã€Œæ‰€æœ‰ runsã€ï¼Œæ‡‰ä½¿ç”¨ `runs/list`
- HTTP æ–¹æ³•æ­£ç¢ºï¼Œä½†ç«¯é»ç”¨é€”ä¸ç¬¦

### C. Send POST request to 'api/2.2/jobs/runs/get'
**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**
- HTTP æ–¹æ³•éŒ¯èª¤ï¼ˆæ‡‰ç‚º GETï¼‰
- ç«¯é»ç”¨é€”ä¹ŸéŒ¯èª¤ï¼ˆæ‡‰ç‚º listï¼‰
- å…©å€‹éŒ¯èª¤åŒæ™‚å­˜åœ¨

---

## ğŸ§  è¨˜æ†¶æ³•
### å£è¨£
**ã€Œè®€å–ç”¨ GETï¼Œåˆ—è¡¨ç”¨ listï¼›å‰µå»ºç”¨ POSTï¼Œå–®å€‹ç”¨ getã€**

### Databricks Jobs API ç«¯é»å°ç…§
| æ“ä½œ | HTTP æ–¹æ³• | ç«¯é» |
|------|----------|------|
| åˆ—å‡ºæ‰€æœ‰ jobs | GET | `/api/2.2/jobs/list` |
| å–å¾—å–®ä¸€ job | GET | `/api/2.2/jobs/get` |
| åˆ—å‡º job runs | GET | `/api/2.2/jobs/runs/list` |
| å–å¾—å–®ä¸€ run | GET | `/api/2.2/jobs/runs/get` |
| å•Ÿå‹• job | POST | `/api/2.2/jobs/run-now` |
| å‰µå»º job | POST | `/api/2.2/jobs/create` |
| å–æ¶ˆ run | POST | `/api/2.2/jobs/runs/cancel` |
| åˆªé™¤ job | POST | `/api/2.2/jobs/delete` |

### list vs get å€åˆ¥
```
/runs/list â†’ å›å‚³å¤šå€‹ runsï¼ˆé™£åˆ—ï¼‰
             é©ç”¨æ–¼ï¼šæª¢è¦–æ­·å²åŸ·è¡Œè¨˜éŒ„ã€ç›£æ§

/runs/get  â†’ å›å‚³å–®ä¸€ runï¼ˆç‰©ä»¶ï¼‰
             é©ç”¨æ–¼ï¼šæŸ¥çœ‹ç‰¹å®šåŸ·è¡Œçš„è©³ç´°è³‡è¨Š
             éœ€è¦æä¾› run_id åƒæ•¸
```

### API ç‰ˆæœ¬æ³¨æ„
```
/api/2.0/  â†’ èˆŠç‰ˆæœ¬
/api/2.1/  â†’ è¼ƒæ–°ç‰ˆæœ¬
/api/2.2/  â†’ æœ€æ–°ç‰ˆæœ¬ï¼ˆé¡Œç›®ä½¿ç”¨ï¼‰
```

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶
- [Jobs API - List runs](https://docs.databricks.com/api/workspace/jobs/listruns)
- [Databricks REST API reference](https://docs.databricks.com/api/workspace/introduction)

---

**[è¿”å›é¡Œç›®](#question-048)**
