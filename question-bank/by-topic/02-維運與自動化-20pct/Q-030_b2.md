# Question #030

---

## é¡Œç›®è³‡è¨Š

### é¡Œç›®ç·¨è™Ÿ
**ID:** `Q-030`

### ä¾†æº
**ä¾†æº:** Community

### é›£åº¦ç­‰ç´š
**é›£åº¦:** `L1-Basic`

---

## é¡Œç›®å…§å®¹

### é¡Œå¹¹

A data engineer wants to use Databricks REST API to retrieve the metadata of a job run using its run_id.

Which of the following REST API calls achieves this requirement?

### é¸é …

- **A.** Send POST request to the endpoint 'api/2.2/jobs/runs/get'
- **B.** Send GET request to the endpoint 'api/2.2/jobs/runs/get'
- **C.** Send GET request to the endpoint 'api/2.2/jobs/runs/get-metadata'
- **D.** Send GET request to the endpoint 'api/2.2/jobs/runs/get-output'

---

## æ¨™ç±¤ç³»çµ±

### Topic Tags (æŠ€è¡“ä¸»é¡Œæ¨™ç±¤)
**Topics:** `Jobs-API`, `REST-API`, `Databricks-Workflows`

### Trap Tags (é™·é˜±é¡å‹æ¨™ç±¤)
**Traps:** `Similar-Options`, `HTTP-Method-Confusion`

### Knowledge Domain (çŸ¥è­˜é ˜åŸŸ)
**Domain:** Data Engineering / Operations

---

## ç­”æ¡ˆèˆ‡ä¾†æº

### æ­£ç¢ºç­”æ¡ˆ
**æ­£è§£:** `B`

### ç­”æ¡ˆä¾†æº
- **ä¾†æºæ¨™è¨»ç­”æ¡ˆ:** B
- **ç¤¾ç¾¤å…±è­˜:** B

---

# é¡Œç›®è§£æ

---

## ğŸ“ è€ƒé»è­˜åˆ¥

**æ ¸å¿ƒæŠ€è¡“:** Databricks REST API / Jobs API
**é—œéµæ¦‚å¿µ:** GET vs POST, runs/get endpoint, Run metadata

**é¡Œç›®é—œéµå­—ï¼š**
- **retrieve**: å–å¾—è³‡æ–™ï¼ˆè®€å–æ“ä½œï¼‰ã€‚
- **metadata of a job run**: Job Run çš„ä¸­ç¹¼è³‡æ–™ã€‚
- **run_id**: Run çš„è­˜åˆ¥ç¢¼ã€‚

---

## âœ… æ­£è§£èªªæ˜

### ç‚ºä»€éº¼ B æ˜¯æ­£ç¢ºç­”æ¡ˆï¼Ÿ

**æŠ€è¡“åŸç†ï¼š**

1. **REST API è¨­è¨ˆåŸå‰‡**:
   - **GET**: ç”¨æ–¼è®€å–/æŸ¥è©¢è³‡æ–™
   - **POST**: ç”¨æ–¼å»ºç«‹/ä¿®æ”¹è³‡æ–™

2. **æ­£ç¢ºçš„ API å‘¼å«**:
   ```bash
   GET /api/2.2/jobs/runs/get?run_id=<run_id>
   ```

3. **å›å‚³çš„ metadata åŒ…å«**:
   ```json
   {
     "job_id": 123,
     "run_id": 456,
     "state": {
       "life_cycle_state": "TERMINATED",
       "result_state": "SUCCESS"
     },
     "start_time": 1234567890000,
     "end_time": 1234567899000,
     "tasks": [...],
     ...
   }
   ```

---

## âŒ éŒ¯èª¤é¸é …æ’é™¤

### A - POST to runs/get

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

- **HTTP æ–¹æ³•éŒ¯èª¤**: è®€å–è³‡æ–™æ‡‰ä½¿ç”¨ GETï¼Œä¸æ˜¯ POSTã€‚
- **REST æ…£ä¾‹**: `runs/get` æ˜¯æŸ¥è©¢ç«¯é»ï¼Œä½¿ç”¨ GET æ–¹æ³•ã€‚

### C - runs/get-metadata

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

- **ç«¯é»ä¸å­˜åœ¨**: æ²’æœ‰ `runs/get-metadata` é€™å€‹ç«¯é»ã€‚
- **runs/get å·²åŒ…å« metadata**: ä¸éœ€è¦é¡å¤–çš„ metadata ç«¯é»ã€‚

### D - runs/get-output

**ç‚ºä»€éº¼éŒ¯èª¤ï¼Ÿ**

- **ç”¨é€”ä¸åŒ**: `runs/get-output` ç”¨æ–¼å–å¾— Run çš„**è¼¸å‡ºçµæœ**ï¼ˆå¦‚ notebook outputï¼‰ã€‚
- **ä¸æ˜¯ metadata**: è¼¸å‡ºå’Œä¸­ç¹¼è³‡æ–™æ˜¯ä¸åŒçš„æ¦‚å¿µã€‚

---

## ğŸ§  è¨˜æ†¶æ³•

### å£è¨£

**ã€ŒGET è®€å–ï¼ŒPOST å»ºç«‹ã€**

### Jobs API å¸¸ç”¨ç«¯é»

| ç«¯é» | æ–¹æ³• | ç”¨é€” |
|------|------|------|
| `/jobs/list` | GET | åˆ—å‡ºæ‰€æœ‰ Jobs |
| `/jobs/get` | GET | å–å¾— Job å®šç¾© |
| `/jobs/create` | POST | å»ºç«‹æ–° Job |
| `/jobs/run-now` | POST | è§¸ç™¼ Job åŸ·è¡Œ |
| **`/jobs/runs/get`** | **GET** | **å–å¾— Run metadata** |
| `/jobs/runs/get-output` | GET | å–å¾— Run è¼¸å‡º |
| `/jobs/runs/list` | GET | åˆ—å‡º Job çš„ Runs |
| `/jobs/runs/cancel` | POST | å–æ¶ˆåŸ·è¡Œä¸­çš„ Run |

### HTTP æ–¹æ³•å°ç…§

| æ“ä½œ | HTTP æ–¹æ³• | ç¯„ä¾‹ |
|------|-----------|------|
| è®€å–/æŸ¥è©¢ | **GET** | get, list |
| å»ºç«‹ | POST | create, run-now |
| æ›´æ–° | PUT/PATCH | update, reset |
| åˆªé™¤ | DELETE/POST | delete, cancel |

---

## ğŸ“š å®˜æ–¹æ–‡ä»¶

- [Jobs API - Get Run](https://docs.databricks.com/api/workspace/jobs/getrun)
- [Jobs API Reference](https://docs.databricks.com/dev-tools/api/latest/jobs.html)

---

**[è¿”å›é¡Œç›®](#question-030)**
